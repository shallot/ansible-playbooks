# Copyright (c) 2018-present eyeo GmbH
#
# This module is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.

---

# A list of SSH keys that can be used to access ansible@localhost:inventory
# using Git from the Ansible host itself. In production this should include
# the public keys of anyone who is allowed to modify the inventory and will
# require SSH agent forwarding. In development it uses the existing Vagrant
# user and the key generated by the provision-ansible-masters.yml playbook.
custom_ansible_authorized_keys:
  - "{{ custom_vagrant_user.ssh_public_key }}"

# A list of hosts/IP addresses that can be used to access
# ansible@localhost:inventory on the Ansible host. In production,
# this should include the addresses of any slave/backup Ansible hosts.
custom_ansible_authorized_from_hosts:
  - "127.0.0.1"
  - "::1"

# A list of users to be included with group ansible, i.e. ones that can access
# group-readable files within the ~ansible/inventory repository. In development
# this includes only the vagrant user, while in production it includes the name
# of anyone who is able to provision confidential resources.
custom_ansible_group_members:
  - "vagrant"

# The source URL of the playbooks repository. Uses the existing Vagrant share
# in development (refer to https://www.vagrantup.com/docs/synced-folders/ for
# details). The public repository URL is used in staging and production, i.e.
# https://gitlab.com/eyeo/devops/ansible-playbooks
custom_ansible_playbooks_repository:
  "/vagrant"

# https://www.vagrantup.com/docs/vagrantfile/machine_settings.html
vagrant_box:
  "debian/buster64"

# https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html
vagrant_groups:
  - "ansible-masters"

# https://www.vagrantup.com/intro/getting-started/networking.html
vagrant_networks:
  - private_network:
      ip: "10.8.10.8"

# https://www.vagrantup.com/docs/provisioning/ansible.html
vagrant_playbooks:
  - "provision-custom-systems.yml"
  - "provision-ansible-masters.yml"

# https://www.vagrantup.com/docs/synced-folders/rsync.html
vagrant_rsync:
  true
